--- loader.orig.c	2021-03-11 10:29:10.000000000 +0100
+++ loader.c	2021-03-11 10:29:28.000000000 +0100
@@ -430,7 +430,7 @@
  *	GetProcAddress   (kernelbase.@)
  */
 
-#ifdef __x86_64__
+#if defined(__x86_64__) && !defined(__i386_on_x86_64__)
 /*
  * Work around a Delphi bug on x86_64.  When delay loading a symbol,
  * Delphi saves rcx, rdx, r8 and r9 to the stack.  It then calls
